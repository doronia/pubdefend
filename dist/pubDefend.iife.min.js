var pubdefend=function(){"use strict";var n=window.pubDefend||window.pubdefend||{};n.debug=!0,n.store={},n.t=[],n.o=[],n.domain="sponser.co.il";var e="undefined"!=typeof window,t=e&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),r=(e&&document.createElement("p"),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),o={domain:"pubdefend.com",i:"c",u:"ws",l:"ad_banner.js"};function i(n){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function a(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function u(n,e,t){var r=n.split(e);return r.slice(0,t-1).concat(r.length>=t?r.slice(t-1).join(e):[])}function c(n,e,t){(function(n){return"object"===i(n)&&function(n){return null!=n}(n)&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof String)&&!(n instanceof Number)})(n)&&(n.hasOwnProperty(e)||(n[e]=t),n[e]=t)}var d={v:function(n){var e,t=[];if(!n||!n.length)return t;for(e=0;e<n.length;e++)t.push(n[e]);return t},find:function(n){if(!document.querySelectorAll||!n)return[];var e=document.querySelectorAll(n);return this.v(e)},p:function(n){if(!n||!n.length)return[];var e,t,r=[];for(e=0;e<n.length;e++)t=this.find(n[e]),r=r.concat(t);return this.m(r)},g:function(n,e){if(!n||!e||!n.getElementsByTagName)return[];var t=n.getElementsByTagName(e);return this.v(t)}},f=Object.entries?Object.entries:function(n){return Object.keys(n).reduce((function(e,t){return e.push([t,n[t]]),e}),[])},l=n.store,s=[],v=0,p=0,m=function(n,e){var t=e.slot,r=t.h(),o=function(n){if(!n)return!1;function e(n,e){return window.getComputedStyle?document.defaultView.getComputedStyle(n,null)[e]:n.currentStyle?n.currentStyle[e]:void 0}return"0"!==e(n,"opacity")&&"none"!==e(n,"display")&&"hidden"!==e(n,"visibility")}(document.getElementById(r));if(s[r]={S:!0,visible:o},console.log("googaltag Slot",t.h(),"finished rendering."),p<v){var i=d.find('div[id*="google_ad"]');p=i.length,c(l,"gtag_impr",p),n&&n(i)}c(l,"slots_arr",s)},y=function(n){(function(n){if(Array.isArray)return Array.isArray;Array.isArray=function(n){return"[object Array]"===Object.prototype.toString.call(n)}})()&&n.forEach((function(n){console.log(n.parentElement.id)}))},b=function(n,e){var t=window,r=t.screen,o=t.userAgent,i=t.language,u=t.languages,c=t.platform,d=t.hardwareConcurrency,l=t.deviceMemory,s=r.colorDepth,v=r.availHeight,p=r.availWidth,m=f(t.navigator.plugins).map((function(n){return(e=n,t=2,function(n){if(Array.isArray(n))return n}(e)||function(n,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n)){var t=[],r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done)&&(t.push(a.value),!e||t.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return t}}(e,t)||function(n,e){if(n){if("string"==typeof n)return a(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1].name;var e,t})),y=(new Date).getTimezoneOffset(),b=Intl.DateTimeFormat().resolvedOptions().timeZone,g="ontouchstart"in window,w=function(){try{var n=document.createElement("canvas"),e=n.getContext("2d");return e.textBaseline="top",e.font="14px 'Arial'",e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(125,1,62,20),e.fillStyle="#069",e.fillText("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ`~1!2@3#4$5%6^7&8*9(0)-_=+[{]}|;:',<.>/?",2,15),e.fillStyle="rgba(102, 204, 0, 0.7)",e.fillText("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ`~1!2@3#4$5%6^7&8*9(0)-_=+[{]}|;:',<.>/?",4,17),n.toDataURL()}catch(t){return t}}(),h=window.doNotTrack||navigator.doNotTrack||navigator.msDoNotTrack||"j"in window.external?!("1"!=window.doNotTrack&&"yes"!=navigator.doNotTrack&&"1"!=navigator.doNotTrack&&"1"!=navigator.msDoNotTrack&&!window.external.j()):void 0,S=function(n){for(var e,t,r,o=3&n.length,i=n.length-o,a=3432918353,u=461845907,c=0;c<i;c++)r=255&n.charCodeAt(c)|(255&n.charCodeAt(++c))<<8|(255&n.charCodeAt(++c))<<16|(255&n.charCodeAt(++c))<<24,++c,e=27492+(65535&(t=5*(65535&(e=(e^=r=(65535&(r=(r=(65535&r)*a+(((r>>>16)*a&65535)<<16)&4294967295)<<15|r>>>17))*u+(((r>>>16)*u&65535)<<16)&4294967295)<<13|e>>>19))+((5*(e>>>16)&65535)<<16)&4294967295))+((58964+(t>>>16)&65535)<<16);var d=i-1;switch(r=0,o){case 3:r^=(255&n.charCodeAt(d+2))<<16;break;case 2:r^=(255&n.charCodeAt(d+1))<<8;break;case 1:r^=255&n.charCodeAt(d)}return e^=r=(65535&(r=(r=(65535&r)*a+(((r>>>16)*a&65535)<<16)&4294967295)<<15|r>>>17))*u+(((r>>>16)*u&65535)<<16)&4294967295,e^=n.length,e=2246822507*(65535&(e^=e>>>16))+((2246822507*(e>>>16)&65535)<<16)&4294967295,e=3266489909*(65535&(e^=e>>>13))+((3266489909*(e>>>16)&65535)<<16)&4294967295,(e^=e>>>16)>>>0}(n?JSON.stringify({platform:c,hardwareConcurrency:d,deviceMemory:l,colorDepth:s,availWidth:p,availHeight:v,O:g,canvas:w}):JSON.stringify({userAgent:o,language:i,languages:u,platform:c,hardwareConcurrency:d,deviceMemory:l,plugins:m,colorDepth:s,availWidth:p,availHeight:v,A:y,k:b,O:g,canvas:w,doNotTrack:h}));if(!e)return S;e(S)},g=b(!0),w=b(!1);n.N=function(){var n={},e=function(n){var e,t,r=n+"=",o=document.cookie.split(";");for(e=0;e<o.length;e++){for(t=o[e];" "===t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(r))return unescape(t.substring(r.length,t.length))}return null}("_pbdfndEvents"),t=JSON.parse(e);for(var r in t)n[t[r].M]=t[r].I;console.log(n),console.log(btoa(n))},n.C=function(e){var t=n.store,r=JSON.stringify(t);return e?btoa(r):t};var h,S=window,j=!!S.D&&S.D,O=n.store,A=function(){var n=setInterval((function(){j&&j.H&&(console.log("googaltag apiReady:",j&&j.H),clearInterval(n),function(){var n=googletag.pubads();v=n.R().length,c(l,"gtag_slots",v),l.T||(console.debug("pubdefend:: No adblocker detected. listen to gtag"),n.addEventListener("slotRenderEnded",m.bind(null,y),!1)),console.log("googaltag slots:",v)}())}),100)};return e&&!t&&(h=function(){console.log("pubdefend:: ready"),t=function(n){c(O,"blocked",n)},i="https://"+o.i+"."+o.domain+"/js/"+o.l,(a=new XMLHttpRequest).open("HEAD",i,!0),a.onload=function(n){if(a.readyState===XMLHttpRequest.DONE){var e=a.status;(0===e||e>=200&&e<400)&&t&&t(!1)}},a.onerror=function(n){t&&t(!0)},a.send(null);var t,i,a,d={};d._=g,d.extend=w,c(O,"fingerprint",d);var f={};f.hostname=function(n){for(var e,t=[{key:"?",index:0},{key:"://",index:1},{key:"//",index:1},{key:"/",index:0},{key:":",index:0}],r=0,o=t.length,i=n;r<o;r++)i=(e=u(i,t[r].key,2)).length>1?e[t[r].index]:e[0];return i}(location.hostname),f.domain=n.domain,f.P=function(){var n=document.querySelector("[pub-defend-property]");if(null!=n)return{id:n.getAttribute("pub-defend-property"),options:n.getAttribute("pubdefend-opts")||"{}"}}().id,c(O,"publisher",f);var l=(new Date).getTime().toString().concat(performance.now());c(O,"sid",l);var s,v=function(){if(e){var n=window.navigator.userAgent.toLowerCase();switch(!0){case n.indexOf("edge")>-1:return"Edge (EdgeHtml)";case n.indexOf("edg")>-1:return"Edge Chromium";case n.indexOf("opr")>-1&&!!window.opr:return"opera";case n.indexOf("chrome")>-1&&!!window.chrome:return"chrome";case n.indexOf("trident")>-1:return"IE";case n.indexOf("firefox")>-1:return"Firefox";case n.indexOf("safari")>-1:return"Safari";case n.indexOf("Opera")||n.indexOf("OPR")>-1:return"Opera";default:return"other"}}}();c(O,"browser",v),c(O,"isMobile",r),(s=document.createElement("script")).type="text/javascript",s.src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js",s.readyState&&(s.onreadystatechange=function(){var n=this.readyState;"loaded"!==n&&"complete"!==n||(s.onreadystatechange=null)}),document.getElementsByTagName("head")[0].appendChild(s),A()},"interactive"===document.readyState||"complete"===document.readyState?setTimeout(h,0):document.addEventListener("DOMContentLoaded",h)),n}();
